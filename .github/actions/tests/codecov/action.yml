name: Upload coverage reports to Codecov

inputs:
  name:
    description: "Name of the report"
    required: true

  token:
    description: "Token for upload"
    required: true

  disable-search:
    description: "Boolean for disabling search"
    required: true

  files:
    description: "Comma-separated list of explicit files to upload. If specified, set `disable-search` to `true`"
    required: true

runs:
  using: composite
  steps:
    - name: Upload coverage reports
      uses: codecov/codecov-action@v5.4.0
      with:
        name: ${{ inputs.name }}
        token: ${{ inputs.token }}
        disable_search: ${{ inputs.disable_search }}
        files: ${{ inputs.files }}
        fail_ci_if_error: true
